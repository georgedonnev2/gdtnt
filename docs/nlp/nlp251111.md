# NLP

nothing but test


```python
from http.server import HTTPServer, SimpleHTTPRequestHandler
import os
import argparse


class DownloadHTTPRequestHandler(SimpleHTTPRequestHandler):
    def end_headers(self):
        if not self.path.endswith("/"):
            filename = os.path.basename(self.path)
            self.send_header(
                "Content-Disposition", f'attachment; filename="{filename}"'
            )
        super().end_headers()


def run_server(directory, port=8000):
    os.chdir(directory)
    server_address = ("0.0.0.0", port)
    httpd = HTTPServer(server_address, DownloadHTTPRequestHandler)

    print(f"文件下载服务已启动，访问 http://localhost:{port}")
    print(f"共享目录: {directory}")
    print("所有文件将强制下载，按 Ctrl+C 停止服务")
    httpd.serve_forever()


if __name__ == "__main__":
    parser = argparse.ArgumentParser(description="文件下载服务器")
    parser.add_argument("directory", help="要共享的目录路径")
    parser.add_argument(
        "-p", "--port", type=int, default=8000, help="端口号 (默认: 8000)"
    )
    args = parser.parse_args()

    if not os.path.isdir(args.directory):
        print(f"错误: 目录 '{args.directory}' 不存在")
        exit(1)

    run_server(args.directory, args.port)

```